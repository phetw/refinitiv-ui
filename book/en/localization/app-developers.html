<!doctype html>
<html pandora>

<head>
  <title>App Developers</title>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="x-pandora-base" content="../">
  <meta name="x-pandora-location" content="localization/app-developers.html">
  <link rel="stylesheet" href="../../../resources/styles/book.css">
  <script defer src="../../../resources/scripts/book.js"></script>
  <script defer src="../search.index.js"></script>
  <link rel="stylesheet" href="../../../resources/styles/branding.css">
  <link rel="icon" href="../../../resources/images/refinitiv-blue.png">
</head>

<body>
  <pandora-book class="branding">
    <div class="backdrop-overlay"></div>
    <div class="header" no-print>
      <button class="hamburger-menu">
        <div class="hamburger-inner"></div>
      </button>
      <div class="book-icon" style="background-image:url(&quot;../../../resources/images/refinitiv-white.png&quot;)"></div>
      <h1><a href="../index.html">Element Framework</a></h1>
      <div class="search search-wrapper">
        <input type="search" placeholder="Search...">
      </div>
    </div>
    <div class="content">
      <div class="sidebar" no-print>
        <div class="sidebar-header header-container">
          <button>
            <div class="arrow-icon left-arrow"></div>
          </button>
        </div>
        <pandora-nav id="0d20b0cd-7cb7-43f3-b471-ae2efe9af4d6">
          <ul>
            <li parent id="cid-0" collapsible>
              <div collapser>Getting Started</div>
              <ul>
                <li><a href="../start/installation.html">Installation</a></li>
                <li><a href="../start/browser-support.html">Browser Support</a></li>
                <li><a href="../start/theming.html">Theming</a></li>
                <li><a href="../start/roadmap.html">Roadmap</a></li>
              </ul>
            </li>
            <li parent id="cid-1" collapsible collapsed>
              <div collapser>Core Elements</div>
              <ul>
                <li parent>
                  <div class="sub-header">Actions</div>
                  <ul>
                    <li><a href="../elements/button.html">Button</a></li>
                    <li><a href="../elements/button-bar.html">Button Bar</a></li>
                    <li><a href="../elements/pagination.html">Pagination</a></li>
                    <li><a href="../elements/pill.html">Pill</a></li>
                    <li><a href="../elements/tab.html">Tab</a></li>
                    <li><a href="../elements/tab-bar.html">Tab Bar</a></li>
                    <li><a href="../elements/toggle.html">Toggle</a></li>
                  </ul>
                </li>
                <li parent>
                  <div class="sub-header">Inputs</div>
                  <ul>
                    <li><a href="../elements/autosuggest.html">Autosuggest</a></li>
                    <li><a href="../elements/calendar.html">Calendar</a></li>
                    <li><a href="../elements/checkbox.html">Checkbox</a></li>
                    <li><a href="../elements/color-dialog.html">Color Dialog</a></li>
                    <li><a href="../elements/combo-box.html">Combo Box</a></li>
                    <li><a href="../elements/counter.html">Counter</a></li>
                    <li><a href="../elements/datetime-picker.html">Datetime Picker</a></li>
                    <li><a href="../elements/email-field.html">Email Field</a></li>
                    <li><a href="../elements/multi-input.html">Multi Input</a></li>
                    <li><a href="../elements/number-field.html">Number Field</a></li>
                    <li><a href="../elements/password-field.html">Password Field</a></li>
                    <li><a href="../elements/radio-button.html">Radio Button</a></li>
                    <li><a href="../elements/search-field.html">Search Field</a></li>
                    <li><a href="../elements/select.html">Select</a></li>
                    <li><a href="../elements/slider.html">Slider</a></li>
                    <li><a href="../elements/text-field.html">Text Field</a></li>
                    <li><a href="../elements/time-picker.html">Time Picker</a></li>
                    <li><a href="../elements/tree-select.html">Tree Select</a></li>
                  </ul>
                </li>
                <li parent>
                  <div class="sub-header">Grouping</div>
                  <ul>
                    <li><a href="../elements/accordion.html">Accordion</a></li>
                    <li><a href="../elements/collapse.html">Collapse</a></li>
                    <li><a href="../elements/header.html">Header</a></li>
                    <li><a href="../elements/item.html">Item</a></li>
                    <li><a href="../elements/list.html">List</a></li>
                    <li><a href="../elements/overlay-menu.html">Overlay Menu</a></li>
                    <li><a href="../elements/tree.html">Tree</a></li>
                  </ul>
                </li>
                <li parent>
                  <div class="sub-header">Data Containers</div>
                  <ul>
                    <li><a href="../elements/card.html">Card</a></li>
                    <li><a href="../elements/dialog.html">Dialog</a></li>
                    <li><a href="../elements/label.html">Label</a></li>
                    <li><a href="../elements/layout.html">Layout</a></li>
                    <li><a href="../elements/overlay.html">Overlay</a></li>
                    <li><a href="../elements/panel.html">Panel</a></li>
                    <li><a href="../elements/sidebar-layout.html">Sidebar Layout</a></li>
                  </ul>
                </li>
                <li parent>
                  <div class="sub-header">Feedback</div>
                  <ul>
                    <li><a href="../elements/appstate-bar.html">Appstate Bar</a></li>
                    <li><a href="../elements/loader.html">Loader</a></li>
                    <li><a href="../elements/notification.html">Notification</a></li>
                    <li><a href="../elements/tooltip.html">Tooltip</a></li>
                  </ul>
                </li>
                <li parent>
                  <div class="sub-header">Data Visualization</div>
                  <ul>
                    <li><a href="../elements/canvas.html">Canvas</a></li>
                    <li><a href="../elements/chart.html">Chart</a></li>
                    <li><a href="../elements/clock.html">Clock</a></li>
                    <li><a href="../elements/heatmap.html">Heatmap</a></li>
                    <li><a href="../elements/interactive-chart.html">Interactive Chart</a></li>
                    <li><a href="../elements/led-gauge.html">Led Gauge</a></li>
                    <li><a href="../elements/progress-bar.html">Progress Bar</a></li>
                    <li><a href="../elements/rating.html">Rating</a></li>
                    <li><a href="../elements/sparkline.html">Sparkline</a></li>
                    <li><a href="../elements/swing-gauge.html">Swing Gauge</a></li>
                    <li><a href="../elements/tornado-chart.html">Tornado Chart</a></li>
                  </ul>
                </li>
                <li parent>
                  <div class="sub-header">Icons &amp; Flags</div>
                  <ul>
                    <li><a href="../elements/flag.html">Flag</a></li>
                    <li><a href="../elements/icon.html">Icon</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li parent id="cid-2" collapsible collapsed>
              <div collapser>Build an App</div>
              <ul>
                <li><a href="../framework-integration/javascript.html">Vanilla</a></li>
                <li><a href="../framework-integration/angular.html">Angular</a></li>
                <li><a href="../framework-integration/react.html">React</a></li>
                <li><a href="../framework-integration/vue.html">Vue</a></li>
              </ul>
            </li>
            <li parent id="cid-3" collapsible collapsed>
              <div collapser>Styles and Icons</div>
              <ul>
                <li><a href="../styles/typography.html">Typography</a></li>
                <li><a href="../styles/styling-components.html">Styling Components</a></li>
                <li><a href="../styles/icons.html">Icons</a></li>
                <li><a href="../styles/flags.html">Flags</a></li>
                <li><a href="../styles/movement-colors.html">Movement Colours</a></li>
              </ul>
            </li>
            <li parent id="cid-4" collapsible collapsed>
              <div collapser>Localization (i18n)</div>
              <ul>
                <li><a href="../localization/languages.html">Language Support</a></li>
                <li selected><a href="../localization/app-developers.html">App Developers</a></li>
              </ul>
            </li>
            <li parent id="cid-5" collapsible collapsed>
              <div collapser>More Resources</div>
              <ul>
                <li><a href="../more-resources/theme-switching.html">Theme Switching</a></li>
                <li><a href="../more-resources/collection-composer.html">Data Collection Composer</a></li>
              </ul>
            </li>
          </ul>
        </pandora-nav>
      </div>
      <div class="main">
        <div class="reader">
          <pandora-page>
            <style>
              .menu-theme-toggle>input[type=checkbox]+div {
                background-image: url("../resources/images/sun-icon.svg");
              }

              .menu-theme-toggle>input[type=checkbox]:checked+div {
                background-image: url("../resources/images/moon-icon.svg");
              }
            </style>
            <script async>
              // script to hide header element when scroll down
              function initHideHeader() {
                var reader = document.querySelector('.reader');
                reader.addEventListener('scroll', function() {
                  var header = document.querySelector('#element-header');
                  if (!header) return;
                  var lastTop = reader.getAttribute('data-y');
                  if (reader.scrollTop - lastTop > 0 && reader.scrollTop > 30) {
                    if (!header.classList.contains('hide')) {
                      header.classList.add('hide');
                    }
                  } else {
                    if (header.classList.contains('hide')) {
                      header.classList.remove('hide');
                    }
                  }
                  reader.setAttribute('data-y', reader.scrollTop);
                })
              }
              initHideHeader();
            </script>


            <h1 id="i18n-for-app-developers">i18n for App Developers</h1>
            <p>EF components support localization, including translated messages and formatting. In your app, setting the html <code>lang</code> attribute will trigger that language to be applied to relevant elements.</p>
            <pre><code><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ja&quot;</span>&gt;</span></code></pre>
            <p>Alternatively, setting the <code>lang</code> attribute directly on elements will have the same effect.</p>
            <blockquote>
              <p><code>lang</code> on an element supersedes the html <code>lang</code>, meaning multiple languages can exist on the same page.</p>
            </blockquote>
            <p>Currently, the following languages are supported:</p>
            <table>
              <thead>
                <tr>
                  <th>Language</th>
                  <th>lang value</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>English (default)</td>
                  <td><code>en</code></td>
                </tr>
                <tr>
                  <td>Japanese</td>
                  <td><code>ja</code></td>
                </tr>
                <tr>
                  <td>German</td>
                  <td><code>de</code></td>
                </tr>
                <tr>
                  <td>Simplified Chinese</td>
                  <td><code>zh</code></td>
                </tr>
                <tr>
                  <td>Traditional Chinese</td>
                  <td><code>zh-Hant</code></td>
                </tr>
              </tbody>
            </table>
            <p>If an unsupported language is set, English is the default fallback.</p>
            <h2 id="regionals">Regionals</h2>
            <p>Adding region country codes will format all numbers and dates accordingly. For region specific languages to be applied, there must be additional region translations for that language.</p>
            <p>If no country code is applied, the browser default is used.</p>
            <h2 id="using-in-your-app">Using in your app</h2>
            <p>EF elements are packaged with English translations only. The application developer must ensure that the additional languages are included, by importing any additional translation files.</p>
            <p>The translation is selected using the following algorithm:</p>
            <ul>
              <li>if the element has the <code>lang</code> attribute defined and a translation exists, select it, otherwise</li>
              <li>if the <code>html</code> root element has the <code>lang</code> attribute defined and a translation exists, select it, otherwise</li>
              <li>if a <code>navigator.language</code> translation exists, select it, otherwise</li>
              <li>use the default English translation</li>
            </ul>
            <p>There are many ways to load translations. Below are typical configurations, but it is up to the developer to pick the most appropriate solution.</p>
            <h3 id="static-imports">Static Imports</h3>
            <p>The simplest way is to include translations in a bundle, for instance:</p>
            <pre><code><span class="hljs-comment">// # translations.js</span>

<span class="hljs-comment">// ef-tree-select, Japanese and German locales</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@refinitiv-ui/phrasebook/lib/locale/ja/tree-select&apos;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@refinitiv-ui/phrasebook/lib/locale/de/tree-select&apos;</span>;

<span class="hljs-comment">// ef-pagination, Simplified and Traditional Chinese locales</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@refinitiv-ui/phrasebook/lib/locale/zh/pagination&apos;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@refinitiv-ui/phrasebook/lib/locale/zh-hant/pagination&apos;</span>;</code></pre>
            <p>Including translations in such a way will increase the bundle size, but has the benefit that translations are available immediately on application load.</p>
            <h3 id="dynamic-import">Dynamic Import</h3>
            <p>If your application supports <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank">dynamic module resolution</a>, you can load translations on demand. For instance:</p>
            <pre><code><span class="hljs-keyword">import</span> { supportedLocales } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@formatjs/intl-utils&apos;</span>;

<span class="hljs-comment">// load language from your app&apos;s service</span>
App.Settings.Language.read(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
  <span class="hljs-comment">// set html lang tag</span>
  <span class="hljs-built_in">document</span>.documentElement.lang = value;
  <span class="hljs-comment">// resolve regional locale into support locale.</span>
  <span class="hljs-comment">// for instance: if value === &apos;de-AT&apos;, then locale = &apos;de&apos;</span>
  <span class="hljs-keyword">const</span> locale = supportedLocales([<span class="hljs-string">&apos;ja&apos;</span>, <span class="hljs-string">&apos;de&apos;</span>], [value])[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">if</span> (locale) {
    <span class="hljs-comment">// use dynamic import. Element will update itself once locale is loaded</span>
    <span class="hljs-keyword">import</span>(<span class="hljs-string">`@refinitiv-ui/phrasebook/lib/locale/<span class="hljs-subst">${locale}</span>/pagination`</span>);
  }
});</code></pre>
            <h3 id="from-the-server">From The Server</h3>
            <p>You can store translations as JSON on the app server or CDN. In this case you may want to extract JSON content to upload to the server.</p>
            <pre><code><span class="hljs-keyword">import</span> { supportedLocales } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@formatjs/intl-utils&apos;</span>;
<span class="hljs-keyword">import</span> { Phrasebook } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@refinitiv-ui/phrasebook&apos;</span>;

<span class="hljs-comment">// resolve locale from HTML lang attribute or navigator language</span>
<span class="hljs-keyword">const</span> locale = supportedLocales([<span class="hljs-string">&apos;ja&apos;</span>, <span class="hljs-string">&apos;de&apos;</span>], [<span class="hljs-built_in">document</span>.documentElement.lang || navigator.language])[<span class="hljs-number">0</span>];

<span class="hljs-comment">// fetch locale</span>
fetch(<span class="hljs-string">`static/locale/<span class="hljs-subst">${locale}</span>/pagination.json`</span>).then(<span class="hljs-function"><span class="hljs-params">translations</span> =&gt;</span> {
  <span class="hljs-comment">// define translation within Phrasebook to be available for EF elements</span>
  Phrasebook.define(<span class="hljs-string">&apos;de&apos;</span>, <span class="hljs-string">&apos;ef-pagination&apos;</span>, translations);
});</code></pre>
            <h2 id="support-ie11">Support IE11</h2>
            <p>IE11 lacks some features in the <code>Intl</code> object that are used in localization. You can choose how to address this, but the simplest appraoch is to install the <code>@formatjs/intl-getcanonicallocales</code>, <code>@formatjs/intl-locale</code> and <code>@formatjs/intl-pluralrules</code> polyfills and import them into your app. The polyfill is not included in EF by default, as not all apps support IE11.</p>
            <pre><code>npm install @formatjs/intl-getcanonicallocales @formatjs/intl-locale @formatjs/intl-pluralrules</code></pre>
            <pre><code><span class="hljs-comment">// polyfills for IE11 for i18n</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@formatjs/intl-getcanonicallocales/polyfill&apos;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@formatjs/intl-locale/polyfill&apos;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@formatjs/intl-pluralrules/polyfill&apos;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@formatjs/intl-pluralrules/locale-data/en&apos;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@formatjs/intl-pluralrules/locale-data/ja&apos;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&apos;@formatjs/intl-pluralrules/locale-data/zh&apos;</span>;</code></pre>
            <p>There are additional polyfills available for more advanced translation messages. You can get additional information at <a href="https://formatjs.io/docs/polyfills" target="_blank">formatjs.io</a>.</p>
          </pandora-page>
        </div>
      </div>
      <div class="results">
        <div class="results-header header-container">
          <div class="search-container">
            <div class="search-wrapper">
              <input placeholder="Type to search...">
            </div>
            <button class="clear-input"></button>
          </div>
          <button class="close-search">
            <div class="arrow-icon right-arrow"></div>
          </button>
        </div>
        <div class="results-body"></div>
        <div class="results-placeholder is-visible"></div>
      </div>
    </div>
  </pandora-book>
</body>

</html>